<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Language Walkthrough - The Dwarf Programming Language</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <img class="sidebar-logo" src="favicon.png">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="introduction.html">Introduction</a></li><li class="chapter-item expanded affix "><a href="overview.html" class="active">Language Walkthrough</a></li><li class="chapter-item expanded affix "><li class="part-title">Examples</li><li class="chapter-item expanded "><a href="tutorials/mandelbrot.html"><strong aria-hidden="true">1.</strong> Mandelbrot Set</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="tutorials/mandelbrot/complex.html"><strong aria-hidden="true">1.1.</strong> Coding a Complex Type</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">1.2.</strong> Mapping Points to Pixels</div></li><li class="chapter-item expanded "><a href="tutorials/mandelbrot/render_0.html"><strong aria-hidden="true">1.3.</strong> Rendering the Set</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">1.4.</strong> Speeding it up</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> Python Bindings</div></li><li class="chapter-item expanded affix "><li class="part-title">Reference</li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> Dwarf Language Reference</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">3.1.</strong> Items</div></li><li class="chapter-item expanded "><a href="reference/statements.html"><strong aria-hidden="true">3.2.</strong> Statements</a></li><li class="chapter-item expanded "><a href="reference/expressions.html"><strong aria-hidden="true">3.3.</strong> Expressions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/expressions/literal.html"><strong aria-hidden="true">3.3.1.</strong> Literal Expressions</a></li><li class="chapter-item expanded "><a href="reference/expressions/unary.html"><strong aria-hidden="true">3.3.2.</strong> Unary Expressions</a></li><li class="chapter-item expanded "><a href="reference/expressions/binary.html"><strong aria-hidden="true">3.3.3.</strong> Binary Expressions</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.4.</strong> Types</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/built-in-types.html"><strong aria-hidden="true">3.4.1.</strong> Built-in Types</a></li><li class="chapter-item expanded "><a href="reference/udts.html"><strong aria-hidden="true">3.4.2.</strong> User-defined Types</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.5.</strong> Inline Assembly</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.6.</strong> Object Oriented Features</div></li></ol></li><li class="chapter-item expanded "><a href="chacha.html"><strong aria-hidden="true">4.</strong> ChaCha Runtime Reference</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> The Future</div></li><li class="chapter-item expanded "><a href="hacker.html"><strong aria-hidden="true">6.</strong> For Hackers</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">6.1.</strong> Building</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">6.1.1.</strong> Tools</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.1.2.</strong> Benchmarks</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.2.</strong> Architecture</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="hacker/arch/parser.html"><strong aria-hidden="true">6.2.1.</strong> Parser</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.2.2.</strong> Compiler</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.2.3.</strong> Chacha</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">6.2.3.1.</strong> Interpreter</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.2.3.2.</strong> VM</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.2.4.</strong> The ObjectStore</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.3.</strong> Code Generation</div></li></ol></li><li class="chapter-item expanded "><a href="directory.html">Index</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="preface.html">Postface</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Dwarf Programming Language</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/uberfoo/dwarf" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="language-walkthrough"><a class="header" href="#language-walkthrough">Language Walkthrough</a></h1>
<p>Thanks for reading thus far!
This section is a walkthrough of the language.
It is designed to provide information in an order useful to someone new to programming.</p>
<h2 id="functions-and-statements"><a class="header" href="#functions-and-statements">Functions and Statements</a></h2>
<p>Let's start with <a name="a001"></a>functions and <a name="a002"></a>statements.
Functions are composed of statements between curly braces.
You already saw a function in the <a href="./introduction.html">introduction</a>.
That function printed <a name="a003"></a><code>()</code> after the <code>Hello, world!</code> message.
In dwarf we just call that the <a name="a004"></a>empty type/value.
It's a type, and a value, and it's the only value of it's type.
A function (and any <a name="a005"></a>block for that matter) returns the value of it's last statement.
A statement that ends in a semi-colon has the empty value:</p>
<pre><pre class="tunnel"><code class="language-dwarf">fn main() {
    print(&quot;&quot;);
}</code></pre></pre>
<p>On the other hand, a statement that does not terminate in a semi-colon has the value of it's expression:</p>
<pre><pre class="tunnel"><code class="language-dwarf">fn main() {
    42
}</code></pre></pre>
<blockquote>
<p>Expressions</p>
<p>There will be a lot more to say about expressions later.
For now just know that basically everything in dwarf is an expression.</p>
</blockquote>
<h3 id="let-statement"><a class="header" href="#let-statement">Let Statement</a></h3>
<p>Not all statements are composed of expressions.
In particular is the <a name="a006"></a><code>let</code> statement.
Since the let statement has no value, it must be terminated with a semi-colon.
The following is not valid and throws an error:</p>
<pre><pre class="tunnel"><code class="language-dwarf">fn main() {
    let a = 42
}</code></pre></pre>
<p>The let statement is instead used to assign a value to a storage location, or memory.
The storage location is called a <a name="a007"></a>variable, and has a name.
You use the name to refer to the variable elsewhere in the function:</p>
<pre><pre class="tunnel"><code class="language-dwarf">fn main() {
    let a = 42;
    print(a)
}</code></pre></pre>
<blockquote>
<p>Advanced Statements</p>
<p>There is a third type of statement, called an <a name="a008"></a>item statement.
It's useful for defining <a name="a009"></a>structs and <a name="a010"></a>functions inside of a <a name="a011"></a>block expression.
Below is an example of both:</p>
<pre><pre class="tunnel"><code class="language-dwarf">fn main() {
    struct Point {
        x: float,
        y: float,
    }

   impl Point {
       fn new(x: float, y: float) -&gt; Point {
           Point { x: x, y: y }
       }
   }

    fn foo() -&gt; Point {
        Point::new(42.0, -3.14)
    }

    print(foo());
}</code></pre></pre>
</blockquote>
<h2 id="conditional-expressions"><a class="header" href="#conditional-expressions">Conditional Expressions</a></h2>
<p>Next up is the <a name="a012"></a>conditional expression.
Conditional expressions are used to make decisions.
They are composed of three parts: a <a name="a013"></a>condition, a <a name="a014"></a>then expression, and an <a name="a015"></a>else expression.
The condition is an expression that evaluates to a boolean value.
The then and else expressions are expressions that evaluate to the same type.
The type of the conditional expression is the type of the then and else expressions.
The following is an example of a conditional expression:</p>
<pre><pre class="tunnel"><code class="language-dwarf">fn main() {
    let a = 42;
    let b = 3.14;
    let c = if a &gt; b { a } else { b };
    print(c);
}</code></pre></pre>
<blockquote>
<p>Numeric Type Casting</p>
<p>There are some subtleties to conditional expressions with regard to <a name="a016"></a>type conversion.
In the example below if we let <a name="a017"></a>ChhCha do the conversion for us it will convert the <a name="a018"></a><code>int</code> to a <a name="a019"></a><code>float</code>.
The first comparison turns out as expected.</p>
<pre><pre class="tunnel"><code class="language-dwarf">fn main() {
    let a = 3;
    let b = 3.14;
    let c = if a &gt;= b  { a } else { b }; // c == 3.14
    print(c as string + &quot;\n&quot;);
    let c = if a &gt;= b as int  { a } else { b }; // c == ?
    print(c as string + &quot;\n&quot;);
}</code></pre></pre>
<p>In the second comparison we are casting <code>b</code> to an <code>int</code> with the <a name="a020"></a><code>as</code> expression.
Note the difference.</p>
</blockquote>
<p>There are all the usual <a name="a021"></a>comparison operators: <code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>.
Here are a few examples.</p>
<pre><pre class="tunnel"><code class="language-dwarf">fn main() {
    let a = true;
    if a != false {
        print(&quot;a is true\n&quot;);
    } else {
        print(&quot;a is false\n&quot;);
    }
}</code></pre></pre>
<pre><pre class="tunnel"><code class="language-dwarf">
```dwarf
fn main() {
    let a = 42;
    let b = 3.14;
    let c = if a == b { a } else { b };
    print(c);
}</code></pre></pre>
<blockquote>
<p>Expression Magic</p>
<p>Having everything as an expression pays great dividends.
In the example above notice how we assign <code>c</code> to the result of the <a name="a022"></a><code>if</code> expression.
<code>if</code> actually has a value, which is the value of it's evaluation.</p>
</blockquote>
<p>Notice that we left the semi-colon off of the print statement, and it still printed <code>()</code>.
That is because the print expression has the empty value.</p>
<h2 id="golden-nuggets-"><a class="header" href="#golden-nuggets-">Golden Nuggets ⭐️🌟✨</a></h2>
<ol start="0">
<li>
<p>The interpreter is called <a name="a023"></a>ChaCha, but the binary is called <code>dwarf</code>.
Go figure.</p>
</li>
<li>
<p>I call input files <code>.tao</code>, I don't remember why.
None of the tooling cares what you name them.</p>
</li>
<li>
<p>The interpreter looks for a <a name="a024"></a><code>main</code> function, where it will begin execution.</p>
</li>
</ol>
<pre><pre class="tunnel"><code class="language-dwarf">fn main() {
    print(&quot;Hello, world!\n&quot;);
}</code></pre></pre>
<p>Passing <a name="a025"></a>command line arguments to main from the interpreter is <a href="./chacha.html#args">supported</a>.</p>
<ol start="0">
<li>In dwarf, just about everything is an <a name="a026"></a>expression.
The only thing that is not an expression is a <a name="a027"></a><code>let</code> statement.
That's not true.
Items inside blocks are also statements.
So that's only two things that I can think of.
Putting a semicolon at the end of an expression makes it a statement, but it's still an expression underneath.
This is super powerful, and allows for some really cool things.</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="introduction.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="tutorials/mandelbrot.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="introduction.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="tutorials/mandelbrot.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>

        <script src="ace.js"></script>
        <script src="editor.js"></script>
        <script src="mode-rust.js"></script>
        <script src="theme-dawn.js"></script>
        <script src="theme-tomorrow_night.js"></script>

        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
